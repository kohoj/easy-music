var M=Object.defineProperty;var I=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var D=(t,o,i)=>o in t?M(t,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[o]=i,$=(t,o)=>{for(var i in o||(o={}))S.call(o,i)&&D(t,i,o[i]);if(I)for(var i of I(o))T.call(o,i)&&D(t,i,o[i]);return t};import{_ as C}from"./Comments.80d04656.js";import{b as q,u as N,r as O,a8 as P,x as U,t as V,p as B,a as L,e as _,o as c,f as r,g as s,i as d,F as k,h as b,j as p,k as f,w as R,m as A}from"./vendor.a7e3494f.js";import{g as F}from"./index.es.1dfc3269.js";const w={name:"mvDetail",components:{CommentList:C,videoPlay:F},setup(t){const{proxy:o}=A(),i=q(),y=N(),n=O({mId:"0",mvDetail:{},type:1,videoOptions:{src:"",poster:""},simiMv:[]}),g=async()=>{const{data:a}=await o.$http.mvDetail({id:n.mId});if(a.code!==200)return o.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");n.mvDetail=a.data,n.videoOptions.poster=a.data.cover},u=async a=>{const{data:e}=await o.$http.mvUrl({id:n.mId,r:a});if(e.code!==200)return o.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");n.videoOptions.src=e.data.url},l=async()=>{const{data:a}=await o.$http.simiMv({id:n.mId});if(a.code!==200)return o.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");n.simiMv=a.mvs},v=()=>{g(),u(),l()};return P(a=>{n.mId=a.query.id,v()}),U(()=>{n.mId=i.query.id,v(),y.commit("SET_PLAYSTATUS",!1)}),$({},V(n))}},m=R();B("data-v-0ab1f350");const j={key:0,class:"mv-detail"},E={class:"mv-video"},Y={class:"w1200"},z={class:"video-main"},G={class:"mv-info"},H={class:"mv-info-hd"},J={class:"info-name"},K={class:"mv-info-count"},Q={class:"info-count"},W={class:"info-time"},X={class:"mv-desc"},Z={class:"w1200"},x={class:"mv-container"},ss={class:"mv-main"},ts={class:"mv-aside"},es={class:"simi-mv"},os=s("h3",{class:"aside-title"},"\u76F8\u4F3CMV",-1),is={class:"aside-main mv-main"},as=s("i",{class:"iconfont icon-play"},null,-1),ns=s("div",{slot:"placeholder",class:"image-slot"},[s("i",{class:"iconfont icon-placeholder"})],-1),ds={class:"info"},cs={class:"mv-playCount"},rs=s("i",{class:"iconfont icon-video"},null,-1),ls={key:1,class:"mv-time"};L();const ms=m((t,o,i,y,n,g)=>{const u=_("videoPlay"),l=_("router-link"),v=_("comment-list"),a=_("el-image");return t.videoOptions.src?(c(),r("div",j,[s("div",E,[s("div",Y,[s("div",z,[s(u,{width:"100%",height:"100%",poster:t.videoOptions.poster,src:t.videoOptions.src},null,8,["poster","src"])]),s("div",G,[s("div",H,[s("div",J,d(t.mvDetail.name),1),(c(!0),r(k,null,b(t.mvDetail.artists,(e,h)=>(c(),r(l,{to:{path:"/singer",query:{id:e.id}},class:"song-author",key:e.name},{default:m(()=>[p(d(h!==0?" / "+e.name:e.name),1)]),_:2},1032,["to"]))),128)),s("div",K,[s("span",Q,"\u64AD\u653E\u91CF\uFF1A"+d(t.$utils.formartNum(t.mvDetail.playCount)),1),s("span",W,"\u53D1\u5E03\u65F6\u95F4\uFF1A"+d(t.mvDetail.publishTime),1)])]),s("div",X,d(t.mvDetail.briefDesc?t.mvDetail.briefDesc:"\u6682\u65E0\u7B80\u4ECB"),1)])])]),s("div",Z,[s("div",x,[s("div",ss,[s(v,{type:t.type,sId:t.mId},null,8,["type","sId"])]),s("div",ts,[s("div",es,[os,s("div",is,[(c(!0),r(k,null,b(t.simiMv,(e,h)=>(c(),r("div",{class:"item",key:""+e.id+h},[s(l,{to:{path:"/mv",query:{id:e.id}},class:"faceImg"},{default:m(()=>[as,s(a,{src:e.cover||e.imgurl},{default:m(()=>[ns]),_:2},1032,["src"])]),_:2},1032,["to"]),s("div",ds,[s(l,{to:{path:"/mv",query:{id:e.id}},class:"mv-name"},{default:m(()=>[p(d(e.name),1)]),_:2},1032,["to"]),e.publishTime?f("",!0):(c(),r(l,{key:0,to:{path:"/singer",query:{id:e.artistId}},class:"mv-author"},{default:m(()=>[p(d(e.artistName),1)]),_:2},1032,["to"])),s("div",cs,[rs,p(" "+d(t.$utils.formartNum(e.playCount)),1)]),e.publishTime?(c(),r("div",ls,"\u53D1\u5E03\u65F6\u95F4\uFF1A"+d(e.publishTime),1)):f("",!0)])]))),128))])])])])])])):f("",!0)});w.render=ms;w.__scopeId="data-v-0ab1f350";export{w as default};
