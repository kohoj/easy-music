var U=Object.defineProperty,V=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var q=(o,n,t)=>n in o?U(o,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[n]=t,T=(o,n)=>{for(var t in n||(n={}))R.call(n,t)&&q(o,t,n[t]);if(b)for(var t of b(n))E.call(n,t)&&q(o,t,n[t]);return o},w=(o,n)=>V(o,K(n));import{b as X,u as N,n as Q,r as Y,d as u,a8 as Z,x,t as G,p as J,a as W,e as y,o as l,f as c,g as s,s as $,i as m,k as _,F as S,h as L,j as A,m as ss,w as os,A as ns}from"./vendor.a7e3494f.js";import{f as es}from"./song.122b202a.js";import{a as is}from"./index.e9f38bbb.js";import{_ as ts}from"./Comments.80d04656.js";var as="data:image/png;base64,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";const C={name:"SongDeatil",components:{Lyrics:is,CommentList:ts},setup(o){const n=X(),t=N(),{proxy:e}=ss(),I=Q(null),d=Y({songInfo:null,sId:"0",type:0,simiSong:[]}),h=u(()=>t.getters.isLogin),f=u(()=>t.getters.isPlayed),k=u(()=>t.getters.playList),z=u(()=>t.getters.playIndex),p=u(()=>k.value[z.value]),i=u(()=>f.value&&p.value&&p.value.id===d.sId),g=u(()=>i.value?"icon-audio-pause":"icon-audio-play"),O=u(()=>d.songInfo.license||d.songInfo.vip?"disable":""),D=u(()=>d.songInfo.alia.join(" / ")),M=u(()=>function(a){return String(a.id)===p.value.id&&f.value?"icon-audio-pause":"icon-audio-play"}),B=async()=>{const{data:a}=await e.$http.songDetail({ids:d.sId,timestamp:new Date().valueOf()});if(a.code!==200)return e.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");a.songs[0].license=!a.privileges[0].cp,d.songInfo=es(a.songs[0])},H=async()=>{const{data:a}=await e.$http.simiSong({id:d.sId});if(a.code!==200)return e.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");d.simiSong=a.songs.map(r=>({id:String(r.id),name:r.name,mvId:r.mvid,singer:r.artists,album:r.album,alia:r.alias,duration:e.$utils.formatSongTime(r.duration),url:`https://music.163.com/song/media/outer/url?id=${r.id}.mp3`,vip:r.fee===1,license:r.license,publishTime:r.publishTime}))},F=a=>{if(!p.value||p.value.id!==a.id){if(a.license){e.$msg.error("\u7531\u4E8E\u7248\u6743\u4FDD\u62A4\uFF0C\u60A8\u6240\u5728\u7684\u5730\u533A\u6682\u65F6\u65E0\u6CD5\u4F7F\u7528\u3002");return}if(a.vip){e.$msg.error("\u4ED8\u8D39\u6B4C\u66F2\uFF0C\u8BF7\u5728\u7F51\u6613\u4E91\u97F3\u4E50\u64AD\u653E");return}t.dispatch("selectPlay",{list:[a]}),t.commit("SET_PLAYLISTTIPS",!0)}else t.commit("SET_PLAYSTATUS",!f.value)},j=()=>{I.value.scrollIntoView(!0)},P=()=>{d.sId!=="0"&&(B(),H())};return Z(a=>{d.sId=a.query.id,P()}),x(()=>{d.sId=n.query.id,P()}),w(T({},G(d)),{playSimiIcon:M,isCurSong:i,coverDesc:D,plyaing:F,songDisable:O,playFontIcon:g,isLogin:h,jumpComment:j,cBox:I})}},v=os();J("data-v-6d6fc2fa");const ls={key:0,class:"song-container"},cs={class:"w1200"},ds={class:"song-sidebar"},rs={class:"sidebar"},As={class:"cover"},us=s("img",{src:as,class:"cover-stylus"},null,-1),fs=s("div",{slot:"placeholder",class:"image-slot"},[s("i",{class:"iconfont icon-placeholder"})],-1),gs={key:0,class:"cover-desc"},ms=s("h5",null,"\u4E13\u8F91\u7B80\u4ECB",-1),vs={class:"simi-song"},ps=s("h6",null,"\u76F8\u4F3C\u6B4C\u66F2",-1),ys={class:"simi-main"},_s={class:"simi-info"},Is={class:"simi-author"},hs={class:"simi-song-status"},ks={key:0,class:"iconfont icon-vip"},zs={class:"song-main"},Os={class:"song-name"},Ss=s("i",{class:"iconfont icon-video"},null,-1),Ls={key:1,class:"iconfont icon-vip"},Ps={key:2,class:"audio-icon"},bs=ns('<div class="column" style="animation-delay:-1.2s;" data-v-6d6fc2fa></div><div class="column" data-v-6d6fc2fa></div><div class="column" style="animation-delay:-1.5s;" data-v-6d6fc2fa></div><div class="column" style="animation-delay:-0.9s;" data-v-6d6fc2fa></div><div class="column" style="animation-delay:-0.6s;" data-v-6d6fc2fa></div>',5),qs={class:"song-info"},Ts=A("\u4E13\u8F91\uFF1A"),ws=A("\u53D1\u884C\u65F6\u95F4\uFF1A"),Cs={class:"song-oper"},Ds=s("i",{class:"iconfont icon-collect"},null,-1),Ms=A(" \u6536\u85CF"),Bs=s("span",{class:"play-btn play-collect",slot:"reference"},[s("i",{class:"iconfont icon-collect"}),A(" \u6536\u85CF")],-1),Hs=s("i",{class:"iconfont icon-comment"},null,-1),Fs=A(" \u8BC4\u8BBA"),js={class:"song-lyric"},Us={class:"song-comments",ref:"cBox"};W();const Vs=v((o,n,t,e,I,d)=>{const h=y("el-image"),f=y("router-link"),k=y("el-popover"),z=y("Lyrics"),p=y("comment-list");return o.songInfo?(l(),c("div",ls,[s("div",cs,[s("div",ds,[s("div",rs,[s("div",As,[s("div",{class:["cover-img",[e.isCurSong?"active":""]],onClick:n[1]||(n[1]=$(i=>e.plyaing(o.songInfo),["stop"]))},[us,s(h,{src:o.songInfo.album.picUrl},{default:v(()=>[fs]),_:1},8,["src"])],2),e.coverDesc?(l(),c("div",gs,[ms,s("p",null,m(e.coverDesc),1)])):_("",!0),s("div",vs,[ps,s("div",ys,[(l(!0),c(S,null,L(o.simiSong,i=>(l(),c("div",{class:"simi-item",key:i.id},[s("div",_s,[s(f,{class:"simi-name",to:{path:"/song",query:{id:i.id}}},{default:v(()=>[A(m(i.name),1)]),_:2},1032,["to"]),s("div",Is,[(l(!0),c(S,null,L(i.singer,(g,O)=>(l(),c(f,{to:{path:"/singer",query:{id:g.id}},class:"song-author",key:g.name},{default:v(()=>[A(m(O!==0?" / "+g.name:g.name),1)]),_:2},1032,["to"]))),128))])]),s("div",hs,[i.vip?(l(),c("i",ks)):(l(),c("i",{key:1,onClick:g=>e.plyaing(i),class:["iconfont",e.playSimiIcon(i)]},null,10,["onClick"]))])]))),128))])])])])]),s("div",zs,[s("h3",Os,[A(m(o.songInfo.name)+" ",1),o.songInfo.mvId?(l(),c(f,{key:0,class:"mv-name",to:{path:"/mv",query:{id:o.songInfo.mvId}}},{default:v(()=>[Ss]),_:1},8,["to"])):_("",!0),o.songInfo.vip?(l(),c("i",Ls)):_("",!0),e.isCurSong?(l(),c("div",Ps,[bs])):_("",!0)]),s("p",null,[(l(!0),c(S,null,L(o.songInfo.singer,(i,g)=>(l(),c(f,{to:{path:"/singer",query:{id:i.id}},class:"song-author",key:i.name},{default:v(()=>[A(m(g!==0?" / "+i.name:i.name),1)]),_:2},1032,["to"]))),128))]),s("p",qs,[s("span",null,[Ts,s(f,{class:"song-album",to:{path:"/album",query:{id:o.songInfo.album.id}}},{default:v(()=>[A(m(o.songInfo.album.name),1)]),_:1},8,["to"])]),s("span",null,[ws,s("em",null,m(o.songInfo.publishTime),1)])]),s("div",Cs,[s("span",{class:["play-btn","play-all",e.songDisable],onClick:n[2]||(n[2]=i=>e.plyaing(o.songInfo))},[s("i",{class:["iconfont",e.playFontIcon]},null,2),A(" "+m(o.songInfo.vip?"VIP\u5C0A\u4EAB":"\u7ACB\u5373\u64AD\u653E"),1)],2),e.isLogin?(l(),c(k,{key:1,placement:"bottom",trigger:"click",ref:"popAddList"},{default:v(()=>[Bs]),_:1},512)):(l(),c("span",{key:0,class:"play-btn play-collect",onClick:n[3]||(n[3]=(...i)=>o.showAddList&&o.showAddList(...i))},[Ds,Ms])),s("span",{class:"play-btn play-comment",onClick:n[4]||(n[4]=(...i)=>e.jumpComment&&e.jumpComment(...i))},[Hs,Fs])]),s("div",js,[s(z,{sId:o.sId,local:"page"},null,8,["sId"])]),s("div",Us,[s(p,{type:o.type,sId:o.sId},null,8,["type","sId"])],512)])])])):_("",!0)});C.render=Vs;C.__scopeId="data-v-6d6fc2fa";export{C as default};
