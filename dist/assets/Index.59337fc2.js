var a=Object.defineProperty,e=Object.defineProperties,l=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,r=(e,l,i)=>l in e?a(e,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[l]=i;import{_ as n}from"./Loading.076676db.js";import{r as o,x as c,ab as d,t as p,p as v,a as m,e as f,a7 as b,o as y,f as u,g,F as k,h as x,i as I,q as h,k as C,m as L,w as O}from"./vendor.55e40976.js";const j={name:"Artist",components:{Loading:n},setup(a){const{proxy:n}=L(),v=o({type:[{label:"全部",val:-1},{label:"男歌手",val:1},{label:"女歌手",val:2},{label:"乐队",val:3}],area:[{label:"全部",val:-1},{label:"华语",val:7},{label:"欧美",val:96},{label:"日本",val:8},{label:"韩国",val:16},{label:"其他",val:0}],initial:[{label:"热门",val:-1},{label:"#",val:0}],typeIndex:0,areaIndex:0,initialIndex:0,params:{area:"",type:"",initial:"",limit:30,offset:0},list:[],isLoading:!0,isLoadMv:!0}),m=async a=>{const{data:e}=await n.$http.artistList(a);if(200!==e.code)return n.$msg.error("数据请求失败");v.list=0!==v.params.offset?[...v.list,...e.artists]:e.artists,v.isLoadMv=!e.more,v.isLoading=e.more};return c((()=>{v.params.area=v.area[v.areaIndex].val,v.params.type=v.type[v.typeIndex].val,v.params.initial=v.initial[v.initialIndex].val,(()=>{const a=[];for(let e=0;e<26;e++)a.push({label:String.fromCharCode(65+e),val:String.fromCharCode(97+e)});v.initial=[v.initial[0],...a,v.initial[1]]})()})),d((()=>{m(v.params)})),f=((a,e)=>{for(var l in e||(e={}))s.call(e,l)&&r(a,l,e[l]);if(i)for(var l of i(e))t.call(e,l)&&r(a,l,e[l]);return a})({},p(v)),e(f,l({selectType:(a,e)=>{v[a+"Index"]=e,v.list=[],v.params.offset=0,v.params[a]=v[a][e].val},getArtist:m,loadMore:()=>{v.isLoadMv=!0,v.params.offset=v.list.length}}));var f}},w=O();v("data-v-58dc8656");const M={class:"artist"},P={class:"w1200"},S={class:"filter"},_={class:"filter-item"},T={class:"filter-item"},q={class:"filter-item"},z={class:"list-container"},A={class:"faceImg"},$=g("div",{slot:"placeholder",class:"image-slot"},[g("i",{class:"iconfont icon-placeholder"})],-1),D={class:"info"},E={class:"name"},F={class:"albumSize"};m();const U=w(((a,e,l,i,s,t)=>{const r=f("el-image"),n=f("router-link"),o=f("Loading"),c=b("infinite-scroll");return y(),u("div",M,[g("div",P,[g("div",S,[g("div",_,[(y(!0),u(k,null,x(a.initial,((e,l)=>(y(),u("span",{key:l,class:l===a.initialIndex?"active":"",onClick:a=>i.selectType("initial",l)},I(e.label),11,["onClick"])))),128))]),g("div",T,[(y(!0),u(k,null,x(a.area,((e,l)=>(y(),u("span",{key:l,class:l===a.areaIndex?"active":"",onClick:a=>i.selectType("area",l)},I(e.label),11,["onClick"])))),128))]),g("div",q,[(y(!0),u(k,null,x(a.type,((e,l)=>(y(),u("span",{key:l,class:l===a.typeIndex?"active":"",onClick:a=>i.selectType("type",l)},I(e.label),11,["onClick"])))),128))])]),h(g("div",z,[(y(!0),u(k,null,x(a.list,(a=>(y(),u(n,{to:{path:"/singer",query:{id:a.id}},class:"item",key:a.id},{default:w((()=>[g("div",A,[g(r,{src:a.picUrl+"?param=120y120"},{default:w((()=>[$])),_:2},1032,["src"])]),g("div",D,[g("div",E,I(a.name),1),g("div",F,"专辑："+I(a.albumSize),1)])])),_:2},1032,["to"])))),128))],512),[[c,i.loadMore]]),a.isLoading?(y(),u(o,{key:0})):C("",!0)])])}));j.render=U,j.__scopeId="data-v-58dc8656";export default j;
