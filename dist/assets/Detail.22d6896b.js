var s=Object.defineProperty,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable,t=(a,i,e)=>i in a?s(a,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[i]=e;import{_ as o}from"./Comments.3d0268e1.js";import{b as r,u as l,r as m,a8 as d,x as n,t as c,p as v,a as p,e as u,o as f,f as y,g as h,i as b,F as g,h as I,j as D,k as O,w,m as _}from"./vendor.55e40976.js";import{g as j}from"./index.es.a8f9a2de.js";const $={name:"mvDetail",components:{CommentList:o,videoPlay:j},setup(s){const{proxy:o}=_(),v=r(),p=l(),u=m({mId:"0",mvDetail:{},type:1,videoOptions:{src:"",poster:""},simiMv:[]}),f=()=>{(async()=>{const{data:s}=await o.$http.mvDetail({id:u.mId});if(200!==s.code)return o.$msg.error("数据请求失败");u.mvDetail=s.data,u.videoOptions.poster=s.data.cover})(),(async s=>{const{data:a}=await o.$http.mvUrl({id:u.mId,r:s});if(200!==a.code)return o.$msg.error("数据请求失败");u.videoOptions.src=a.data.url})(),(async()=>{const{data:s}=await o.$http.simiMv({id:u.mId});if(200!==s.code)return o.$msg.error("数据请求失败");u.simiMv=s.mvs})()};return d((s=>{u.mId=s.query.id,f()})),n((()=>{u.mId=v.query.id,f(),p.commit("SET_PLAYSTATUS",!1)})),((s,o)=>{for(var r in o||(o={}))i.call(o,r)&&t(s,r,o[r]);if(a)for(var r of a(o))e.call(o,r)&&t(s,r,o[r]);return s})({},c(u))}},k=w();v("data-v-b5917390");const T={key:0,class:"mv-detail"},q={class:"mv-video"},P={class:"w1200"},C={class:"video-main"},M={class:"mv-info"},x={class:"mv-info-hd"},S={class:"info-name"},N={class:"mv-info-count"},A={class:"info-count"},E={class:"info-time"},L={class:"mv-desc"},U={class:"w1200"},F={class:"mv-container"},V={class:"mv-main"},Y={class:"mv-aside"},z={class:"simi-mv"},B=h("h3",{class:"aside-title"},"相似MV",-1),G={class:"aside-main mv-main"},H=h("i",{class:"iconfont icon-play"},null,-1),J=h("div",{slot:"placeholder",class:"image-slot"},[h("i",{class:"iconfont icon-placeholder"})],-1),K={class:"info"},Q={class:"mv-playCount"},R=h("i",{class:"iconfont icon-video"},null,-1),W={key:1,class:"mv-time"};p();const X=k(((s,a,i,e,t,o)=>{const r=u("videoPlay"),l=u("router-link"),m=u("comment-list"),d=u("el-image");return s.videoOptions.src?(f(),y("div",T,[h("div",q,[h("div",P,[h("div",C,[h(r,{width:"100%",height:"100%",poster:s.videoOptions.poster,src:s.videoOptions.src},null,8,["poster","src"])]),h("div",M,[h("div",x,[h("div",S,b(s.mvDetail.name),1),(f(!0),y(g,null,I(s.mvDetail.artists,((s,a)=>(f(),y(l,{to:{path:"/singer",query:{id:s.id}},class:"song-author",key:s.name},{default:k((()=>[D(b(0!==a?" / "+s.name:s.name),1)])),_:2},1032,["to"])))),128)),h("div",N,[h("span",A,"播放量："+b(s.$utils.formartNum(s.mvDetail.playCount)),1),h("span",E,"发布时间："+b(s.mvDetail.publishTime),1)])]),h("div",L,b(s.mvDetail.briefDesc?s.mvDetail.briefDesc:"暂无简介"),1)])])]),h("div",U,[h("div",F,[h("div",V,[h(m,{type:s.type,sId:s.mId},null,8,["type","sId"])]),h("div",Y,[h("div",z,[B,h("div",G,[(f(!0),y(g,null,I(s.simiMv,((a,i)=>(f(),y("div",{class:"item",key:""+a.id+i},[h(l,{to:{path:"/mv",query:{id:a.id}},class:"faceImg"},{default:k((()=>[H,h(d,{src:a.cover||a.imgurl},{default:k((()=>[J])),_:2},1032,["src"])])),_:2},1032,["to"]),h("div",K,[h(l,{to:{path:"/mv",query:{id:a.id}},class:"mv-name"},{default:k((()=>[D(b(a.name),1)])),_:2},1032,["to"]),a.publishTime?O("",!0):(f(),y(l,{key:0,to:{path:"/singer",query:{id:a.artistId}},class:"mv-author"},{default:k((()=>[D(b(a.artistName),1)])),_:2},1032,["to"])),h("div",Q,[R,D(" "+b(s.$utils.formartNum(a.playCount)),1)]),a.publishTime?(f(),y("div",W,"发布时间："+b(a.publishTime),1)):O("",!0)])])))),128))])])])])])])):O("",!0)}));$.render=X,$.__scopeId="data-v-b5917390";export default $;
