var e=Object.defineProperty,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(i,s,a)=>s in i?e(i,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[s]=a;import{_ as t}from"./Comments.3d0268e1.js";import{b as d,u as r,r as l,a8 as c,x as n,t as v,p as m,a as u,e as p,o as f,f as y,g as h,i as b,j as D,k as I,F as g,h as O,w,m as $}from"./vendor.55e40976.js";import{g as _}from"./index.es.a8f9a2de.js";const j={name:"videoDetail",components:{CommentList:t,videoPlay:_},setup(e){const{proxy:t}=$(),m=d(),u=r(),p=l({vId:"0",videoDetail:{},type:5,videoOptions:{src:"",poster:""},simiVideo:[]}),f=()=>{(async()=>{const{data:e}=await t.$http.videoDetail({id:p.vId});if(200!==e.code)return t.$msg.error("数据请求失败");p.videoDetail=e.data,p.videoOptions.poster=e.data.coverUrl})(),(async e=>{const{data:i}=await t.$http.videoUrl({id:p.vId,r:e});if(200!==i.code)return t.$msg.error("数据请求失败");p.videoOptions.src=i.urls[0].url})(),(async()=>{const{data:e}=await t.$http.simiVideo({id:p.vId});if(200!==e.code)return t.$msg.error("数据请求失败");p.simiVideo=e.data})()};return c((e=>{p.vId=e.query.id,f()})),n((()=>{p.vId=m.query.id,f(),u.commit("SET_PLAYSTATUS",!1)})),((e,t)=>{for(var d in t||(t={}))s.call(t,d)&&o(e,d,t[d]);if(i)for(var d of i(t))a.call(t,d)&&o(e,d,t[d]);return e})({},v(p))}},k=w();m("data-v-2f79fbb1");const q={key:0,class:"video-detail"},P={class:"mv-video"},T={class:"w1200"},S={class:"video-main"},x={class:"video-info"},C={class:"video-info-hd"},N={class:"info-name"},U={class:"video-info-count"},V={class:"info-count"},A={class:"info-time"},B={class:"video-desc"},E={class:"w1200"},L={class:"video-container"},M={class:"video-main"},F={class:"video-aside"},Y={class:"simi-mv"},z=h("h3",{class:"aside-title"},"相关视频",-1),G={class:"aside-main video-main"},H=h("i",{class:"iconfont icon-play"},null,-1),J=h("div",{slot:"placeholder",class:"image-slot"},[h("i",{class:"iconfont icon-placeholder"})],-1),K={class:"playCount"},Q=h("i",{class:"iconfont icon-video"},null,-1),R={class:"v-time"},W={class:"info"};u();const X=k(((e,i,s,a,o,t)=>{const d=p("videoPlay"),r=p("router-link"),l=p("comment-list"),c=p("el-image");return e.videoOptions.src?(f(),y("div",q,[h("div",P,[h("div",T,[h("div",S,[h(d,{width:"100%",height:"100%",poster:e.videoOptions.poster,src:e.videoOptions.src},null,8,["poster","src"])]),h("div",x,[h("div",C,[h("div",N,b(e.videoDetail.title),1),e.videoDetail.creator?(f(),y(r,{key:0,to:{path:"/user",query:{id:e.videoDetail.creator.userId}},class:"song-author"},{default:k((()=>[D("By. "+b(e.videoDetail.creator.nickname),1)])),_:1},8,["to"])):I("",!0),h("div",U,[h("span",V,"播放量："+b(e.$utils.formartNum(e.videoDetail.playCount)),1),h("span",A,"发布时间："+b(e.$utils.formartDate(e.videoDetail.publishTime,"yyyy-MM-dd")),1)])]),h("div",B,b(e.videoDetail.briefDesc?e.videoDetail.briefDesc:"暂无简介"),1)])])]),h("div",E,[h("div",L,[h("div",M,[h(l,{type:e.type,sId:e.vId},null,8,["type","sId"])]),h("div",F,[h("div",Y,[z,h("div",G,[(f(!0),y(g,null,O(e.simiVideo,((i,s)=>(f(),y("div",{class:"item",key:""+i.id+s},[h(r,{to:{path:i.type?"/video":"/mv",query:{id:i.vid}},class:"faceImg"},{default:k((()=>[H,h(c,{src:i.coverUrl},{default:k((()=>[J])),_:2},1032,["src"]),h("span",K,[Q,h("em",null,b(e.$utils.formartNum(i.playTime)),1)]),h("div",R,b(e.$utils.formatSongTime(i.durationms)),1)])),_:2},1032,["to"]),h("div",W,[h(r,{to:{path:"/video",query:{id:i.vid}},class:"v-name"},{default:k((()=>[D(b(i.title),1)])),_:2},1032,["to"]),(f(!0),y(g,null,O(i.creator,((e,i)=>(f(),y(r,{to:{path:"/user",query:{uid:e.userId}},class:"v-author",key:i},{default:k((()=>[D("By. "+b(0!==i?" / "+e.userName:e.userName),1)])),_:2},1032,["to"])))),128))])])))),128))])])])])])])):I("",!0)}));j.render=X,j.__scopeId="data-v-2f79fbb1";export default j;
