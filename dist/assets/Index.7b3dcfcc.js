var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;import{_ as n}from"./MvList.e58cd9ee.js";import{_ as l}from"./Loading.076676db.js";import{r as d,x as c,ab as p,t as m,p as v,a as f,e as y,a7 as u,o as g,f as b,g as L,F as x,h as I,i as M,q as k,k as _,w as j,m as O}from"./vendor.55e40976.js";const h={name:"Mvlist",components:{MvList:n,Loading:l},setup(e){const{proxy:n}=O(),l=d({area:["全部","内地","港台","欧美","日本","韩国"],type:["全部","官方版","原生","现场版","网易出品"],order:["上升最快","热门","最新"],areaIndex:0,typeIndex:0,orderIndex:0,params:{area:"",type:"",order:"",limit:30,offset:0},list:[],mv_count:20,mv_loading:!0,isLoading:!0,isLoadMv:!0});return c((()=>{l.params.area=l.area[l.areaIndex],l.params.type=l.type[l.typeIndex],l.params.order=l.order[l.orderIndex]})),p((()=>{(async e=>{const{data:a}=await n.$http.mv(e);if(200!==a.code)return n.$msg.error("数据请求失败");l.list=0!==l.params.offset?[...l.list,...a.data]:a.data,l.isLoadMv=!a.hasMore,l.isLoading=a.hasMore,l.mv_loading=!1})(l.params)})),v=((e,a)=>{for(var s in a||(a={}))r.call(a,s)&&o(e,s,a[s]);if(t)for(var s of t(a))i.call(a,s)&&o(e,s,a[s]);return e})({},m(l)),a(v,s({selectType:(e,a)=>{l[e+"Index"]=a,l.list=[],l.params.offset=0,l.params[e]=l[e][a],l.mv_loading=!0},loadMv:()=>{l.isLoadMv=!0,l.params.offset=l.list.length}}));var v}},w=j();v("data-v-359f0eb2");const C={class:"mv"},P={class:"w1200"},T={class:"filter"},$={class:"filter-item"},q=L("span",null,"区域",-1),D={class:"filter-item"},E=L("span",null,"类型",-1),F={class:"list-container"},S={class:"list-head"},V=L("h2",null,"全部MV",-1),z={class:"type"},A={class:"wrapper infinite-list","infinite-scroll-disabled":"isLoadMv","infinite-scroll-distance":"50"};f();const B=w(((e,a,s,t,r,i)=>{const o=y("mv-list"),n=y("Loading"),l=u("infinite-scroll");return g(),b("div",C,[L("div",P,[L("div",T,[L("div",$,[q,(g(!0),b(x,null,I(e.area,((a,s)=>(g(),b("em",{class:s===e.areaIndex?"active":"",key:s,onClick:e=>t.selectType("area",s)},M(a),11,["onClick"])))),128))]),L("div",D,[E,(g(!0),b(x,null,I(e.type,((a,s)=>(g(),b("em",{class:s===e.typeIndex?"active":"",key:s,onClick:e=>t.selectType("type",s)},M(a),11,["onClick"])))),128))])]),L("div",F,[L("div",S,[V,L("div",z,[(g(!0),b(x,null,I(e.order,((a,s)=>(g(),b("span",{class:s===e.orderIndex?"active":"",key:s,onClick:e=>t.selectType("order",s)},M(a),11,["onClick"])))),128))])]),k(L("div",A,[L(o,{mvList:e.list,loading:e.mv_loading,num:e.mv_count},null,8,["mvList","loading","num"]),e.isLoading?(g(),b(n,{key:0})):_("",!0)],512),[[l,t.loadMv]])])])])}));h.render=B,h.__scopeId="data-v-359f0eb2";export default h;
