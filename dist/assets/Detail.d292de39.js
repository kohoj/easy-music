var T=Object.defineProperty;var D=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var I=(s,o,t)=>o in s?T(s,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[o]=t,$=(s,o)=>{for(var t in o||(o={}))q.call(o,t)&&I(s,t,o[t]);if(D)for(var t of D(o))C.call(o,t)&&I(s,t,o[t]);return s};import{_ as O}from"./Comments.80d04656.js";import{b as U,u as B,r as b,a8 as M,x as P,t as L,p as R,a as A,e as u,o as c,f as l,g as e,i as n,j as h,k as S,F as k,h as w,w as F,m as j}from"./vendor.a7e3494f.js";import{g as E}from"./index.es.1dfc3269.js";const V={name:"videoDetail",components:{CommentList:O,videoPlay:E},setup(s){const{proxy:o}=j(),t=U(),f=B(),d=b({vId:"0",videoDetail:{},type:5,videoOptions:{src:"",poster:""},simiVideo:[]}),y=async()=>{const{data:i}=await o.$http.videoDetail({id:d.vId});if(i.code!==200)return o.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");d.videoDetail=i.data,d.videoOptions.poster=i.data.coverUrl},p=async i=>{const{data:a}=await o.$http.videoUrl({id:d.vId,r:i});if(a.code!==200)return o.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");d.videoOptions.src=a.urls[0].url},r=async()=>{const{data:i}=await o.$http.simiVideo({id:d.vId});if(i.code!==200)return o.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");d.simiVideo=i.data},_=()=>{y(),p(),r()};return M(i=>{d.vId=i.query.id,_()}),P(()=>{d.vId=t.query.id,_(),f.commit("SET_PLAYSTATUS",!1)}),$({},L(d))}},v=F();R("data-v-485ce713");const Y={key:0,class:"video-detail"},z={class:"mv-video"},G={class:"w1200"},H={class:"video-main"},J={class:"video-info"},K={class:"video-info-hd"},Q={class:"info-name"},W={class:"video-info-count"},X={class:"info-count"},Z={class:"info-time"},x={class:"video-desc"},ee={class:"w1200"},se={class:"video-container"},oe={class:"video-main"},te={class:"video-aside"},ie={class:"simi-mv"},ae=e("h3",{class:"aside-title"},"\u76F8\u5173\u89C6\u9891",-1),de={class:"aside-main video-main"},ne=e("i",{class:"iconfont icon-play"},null,-1),re=e("div",{slot:"placeholder",class:"image-slot"},[e("i",{class:"iconfont icon-placeholder"})],-1),ce={class:"playCount"},le=e("i",{class:"iconfont icon-video"},null,-1),ve={class:"v-time"},_e={class:"info"};A();const ue=v((s,o,t,f,d,y)=>{const p=u("videoPlay"),r=u("router-link"),_=u("comment-list"),i=u("el-image");return s.videoOptions.src?(c(),l("div",Y,[e("div",z,[e("div",G,[e("div",H,[e(p,{width:"100%",height:"100%",poster:s.videoOptions.poster,src:s.videoOptions.src},null,8,["poster","src"])]),e("div",J,[e("div",K,[e("div",Q,n(s.videoDetail.title),1),s.videoDetail.creator?(c(),l(r,{key:0,to:{path:"/user",query:{id:s.videoDetail.creator.userId}},class:"song-author"},{default:v(()=>[h("By. "+n(s.videoDetail.creator.nickname),1)]),_:1},8,["to"])):S("",!0),e("div",W,[e("span",X,"\u64AD\u653E\u91CF\uFF1A"+n(s.$utils.formartNum(s.videoDetail.playCount)),1),e("span",Z,"\u53D1\u5E03\u65F6\u95F4\uFF1A"+n(s.$utils.formartDate(s.videoDetail.publishTime,"yyyy-MM-dd")),1)])]),e("div",x,n(s.videoDetail.briefDesc?s.videoDetail.briefDesc:"\u6682\u65E0\u7B80\u4ECB"),1)])])]),e("div",ee,[e("div",se,[e("div",oe,[e(_,{type:s.type,sId:s.vId},null,8,["type","sId"])]),e("div",te,[e("div",ie,[ae,e("div",de,[(c(!0),l(k,null,w(s.simiVideo,(a,N)=>(c(),l("div",{class:"item",key:""+a.id+N},[e(r,{to:{path:a.type?"/video":"/mv",query:{id:a.vid}},class:"faceImg"},{default:v(()=>[ne,e(i,{src:a.coverUrl},{default:v(()=>[re]),_:2},1032,["src"]),e("span",ce,[le,e("em",null,n(s.$utils.formartNum(a.playTime)),1)]),e("div",ve,n(s.$utils.formatSongTime(a.durationms)),1)]),_:2},1032,["to"]),e("div",_e,[e(r,{to:{path:"/video",query:{id:a.vid}},class:"v-name"},{default:v(()=>[h(n(a.title),1)]),_:2},1032,["to"]),(c(!0),l(k,null,w(a.creator,(m,g)=>(c(),l(r,{to:{path:"/user",query:{uid:m.userId}},class:"v-author",key:g},{default:v(()=>[h("By. "+n(g!==0?" / "+m.userName:m.userName),1)]),_:2},1032,["to"]))),128))])]))),128))])])])])])])):S("",!0)});V.render=ue;V.__scopeId="data-v-485ce713";export{V as default};
