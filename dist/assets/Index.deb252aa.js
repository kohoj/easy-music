var s=Object.defineProperty,e=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(e,n,a)=>n in e?s(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a;import{b as t,u as c,n as r,r as d,d as A,a8 as u,x as m,t as v,p,a as g,e as f,o as y,f as I,g as b,s as O,i as z,k as h,F as k,h as P,j as L,m as q,w,A as T}from"./vendor.55e40976.js";import{f as j}from"./song.a4f4fd39.js";import{a as S}from"./index.80a54dc7.js";import{_ as C}from"./Comments.3d0268e1.js";const D={name:"SongDeatil",components:{Lyrics:S,CommentList:C},setup(s){const p=t(),g=c(),{proxy:f}=q(),y=r(null),I=d({songInfo:null,sId:"0",type:0,simiSong:[]}),b=A((()=>g.getters.isLogin)),O=A((()=>g.getters.isPlayed)),z=A((()=>g.getters.playList)),h=A((()=>g.getters.playIndex)),k=A((()=>z.value[h.value])),P=A((()=>O.value&&k.value&&k.value.id===I.sId)),L=A((()=>P.value?"icon-audio-pause":"icon-audio-play")),w=A((()=>I.songInfo.license||I.songInfo.vip?"disable":"")),T=A((()=>I.songInfo.alia.join(" / "))),S=A((()=>function(s){return String(s.id)===k.value.id&&O.value?"icon-audio-pause":"icon-audio-play"})),C=()=>{"0"!==I.sId&&((async()=>{const{data:s}=await f.$http.songDetail({ids:I.sId,timestamp:(new Date).valueOf()});if(200!==s.code)return f.$msg.error("数据请求失败");s.songs[0].license=!s.privileges[0].cp,I.songInfo=j(s.songs[0])})(),(async()=>{const{data:s}=await f.$http.simiSong({id:I.sId});if(200!==s.code)return f.$msg.error("数据请求失败");I.simiSong=s.songs.map((s=>({id:String(s.id),name:s.name,mvId:s.mvid,singer:s.artists,album:s.album,alia:s.alias,duration:f.$utils.formatSongTime(s.duration),url:`https://music.163.com/song/media/outer/url?id=${s.id}.mp3`,vip:1===s.fee,license:s.license,publishTime:s.publishTime})))})())};return u((s=>{I.sId=s.query.id,C()})),m((()=>{I.sId=p.query.id,C()})),D=((s,e)=>{for(var n in e||(e={}))i.call(e,n)&&l(s,n,e[n]);if(a)for(var n of a(e))o.call(e,n)&&l(s,n,e[n]);return s})({},v(I)),e(D,n({playSimiIcon:S,isCurSong:P,coverDesc:T,plyaing:s=>{if(k.value&&k.value.id===s.id)g.commit("SET_PLAYSTATUS",!O.value);else{if(s.license)return void f.$msg.error("由于版权保护，您所在的地区暂时无法使用。");if(s.vip)return void f.$msg.error("付费歌曲，请在网易云音乐播放");g.dispatch("selectPlay",{list:[s]}),g.commit("SET_PLAYLISTTIPS",!0)}},songDisable:w,playFontIcon:L,isLogin:b,jumpComment:()=>{y.value.scrollIntoView(!0)},cBox:y}));var D}},M=w();p("data-v-00abbe11");const x={key:0,class:"song-container"},B={class:"w1200"},H={class:"song-sidebar"},F={class:"sidebar"},U={class:"cover"},E=b("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAB4CAMAAADSQ7LXAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAnBQTFRFAAAABgYGz8/P5ubm4eHh7Ozs9fX19fX17+/v4eHh5eXl4ODg5OTk4uLi9/f3/////f395+fn5OTkz8/P2dnZ2tra9/f39/f39fX13t7e5OTk3t7e4ODg7+/v7Ozs5OTk3Nzc09PT8PDw9PT08fHx3d3d4eHh+fn57+/v0tLS0dHR+vr62NjYra2tx8fH5+fnwcHBysrKAAAAycnJurq65eXl7+/vwcHBzMzMDQ0NSEhItra2wMDA4uLi5OTkzMzMzMzMtra21dXV6+vr7e3t3NzcwsLCgICAAAAAAAAAjY2N2tra4uLioKCgAAAA3t7e4+Pj4uLi5eXl4+Pj5eXl5eXl5ubm5+fn5eXl5ubm5eXl5eXl5ubm6urq4+Pj7Ozs6enp7Ozs5OTk8/Pz6+vr4eHh9/f37e3t5+fn7Ozs4eHh7Ozs7+/v5ubm4uLi7e3t4ODg8vLy7u7u4+Pj6urq4eHh7Ozs6enp7Ozs8PDw7Ozs4ODg////6+vr4+Pj4eHh4ODg7Ozs6urq7Ozs8PDw5eXl////39/f7e3t5OTk8PDw39/f7e3t6enp8/Pz7u7u39/f7e3t4eHh5+fn4eHh6+vr6+vr5ubm5ubmAAAA39/fAAAA1tbW4ODg2dnZAAAAxcXF1NTUzMzMIyMjz8/PWVlZAAAAAAAAn5+fvb29AAAAAAAAioqKAAAAAAAAra2tAAAAAAAAAAAAd3d3oaGhAAAAFBQUZ2dn19fXjIyMExMTz8/PzMzMn5+fIiIiUVFR8/Pz+fn5fn5+xcXFysrK3t7eAAAAzMzM0dHRyMjINzc3/Pz88vLybm5uFBQUHBwcxUxxVQAAANB0Uk5TAAIQeoGxytG4iYApYo3k//GedQoog9r//4pGTpv//2pdhf///3yy/81Jlv9oH4nKiz4EUY3L3phwBw6Ond7nrYJTvf//2WkaBgkmrtUzC4vCicCIv4e/v72Rt52quZfd/yj/GovfCef/hvgg8f+ot/ITWHflz5YuN/nL6AN0/FXArhhP/n4G2I0596bDaxXqx6b1RZHZcmfLArcFlv+2EJv/vR3TKAwWUnkYG14eIYMlFChpiCs0cv+SQv//rUtC5fFbkqTDL6Gegyr+0josNruqaPMAAALuSURBVHic7dfpU9NAFABwqkFQkfVC4pFog1IvsMaLw7urEu9bEJVaFKOIJ4oHaj3wAk9ArRFqUVOlUJtqqwjetyj8S26rMKO7G53hgzMO7+sv72Xf7ksmiYj4LQxdujJMZLeo6O5Mj54GTA0xTK9YgKJ3H6ZvP4z7M3EDAIhnkQ9kBmE8mBkCAMfzPADRcUOx2sOMkQAICQnDWRBlHEHgRABYlk0wgZEEHmUcDcAYlo0HINE4FuMkY/I4EI5Ys3E8xuKE5ImTQjp5SnJKKs5pKeb0qdOmz0g3z0wS8W0R02aZZ1vgHPPceRkkzpDmL+DhwkWLU0XCphpEUVrCw6VShmjAOOQGcRkPl4tIcQ77Ch6uNBA1fEWYyRaKVTxcTddO7uRO/ue8pgMMYaYOZ0F+rQ5nQ36dDq/nLBt0OEewxtB1I+RsuXTexPGb6Zq3hZN1br2V47flUzV/O1ewg568U7Du2k3VPRy07aWvq5CT99FL70frKqLqgYPQlk1PPiRYDxdT9QgHjx6jai5q2U4vfVyw7DpB1ZOnoK2EqqdzOOsZeumzqOVzVC06D22l9OQy1HIeVS+glukDdvESJ1+ml74iWK7SR6QctVxB1eJKwaoznNfQiNCPIqJSsOiMSD4vyOV0vs5zhXSNKOHhDR3O+tPbAOq9Df5ftljo7HBUyPJNxeEgqyLdqqqqlsiO1Hnb5apxIiex5LxT43LdvYecwIrqvo8+etkHtSopXVE9dWGudxLZ6a0TOE546NMknB2S5n8kFxTIjwO1BFbU+uCTpygagl5CdUXzPWtobGpqfP4i4MbTVc/LVz8+uF+/qcfX7vS+BT+j2qdhrPnftbE9gK9dC7Tz+w/4zX9hvLW/ZzupuP8jMAmhXxG0NAL7PgHWBoAFArsfZ6e3nTMJh6J6PrdxKeFIJe1LWbMJAFPz129ufFPRsHhbgq2twRZvLenEFFVze1C4NZUwjA40qZKKQpIU8qiiK1A4KI9BB+I7bn8y/mK7Kg0AAAAASUVORK5CYII=",class:"cover-stylus"},null,-1),K=b("div",{slot:"placeholder",class:"image-slot"},[b("i",{class:"iconfont icon-placeholder"})],-1),X={key:0,class:"cover-desc"},V=b("h5",null,"专辑简介",-1),R={class:"simi-song"},Q=b("h6",null,"相似歌曲",-1),Y={class:"simi-main"},N={class:"simi-info"},Z={class:"simi-author"},G={class:"simi-song-status"},J={key:0,class:"iconfont icon-vip"},W={class:"song-main"},_={class:"song-name"},$=b("i",{class:"iconfont icon-video"},null,-1),ss={key:1,class:"iconfont icon-vip"},es={key:2,class:"audio-icon"},ns=T('<div class="column" style="animation-delay:-1.2s;" data-v-00abbe11></div><div class="column" data-v-00abbe11></div><div class="column" style="animation-delay:-1.5s;" data-v-00abbe11></div><div class="column" style="animation-delay:-0.9s;" data-v-00abbe11></div><div class="column" style="animation-delay:-0.6s;" data-v-00abbe11></div>',5),as={class:"song-info"},is=L("专辑："),os=L("发行时间："),ls={class:"song-oper"},ts=b("i",{class:"iconfont icon-collect"},null,-1),cs=L(" 收藏"),rs=b("span",{class:"play-btn play-collect",slot:"reference"},[b("i",{class:"iconfont icon-collect"}),L(" 收藏")],-1),ds=b("i",{class:"iconfont icon-comment"},null,-1),As=L(" 评论"),us={class:"song-lyric"},ms={class:"song-comments",ref:"cBox"};g();const vs=M(((s,e,n,a,i,o)=>{const l=f("el-image"),t=f("router-link"),c=f("el-popover"),r=f("Lyrics"),d=f("comment-list");return s.songInfo?(y(),I("div",x,[b("div",B,[b("div",H,[b("div",F,[b("div",U,[b("div",{class:["cover-img",[a.isCurSong?"active":""]],onClick:e[1]||(e[1]=O((e=>a.plyaing(s.songInfo)),["stop"]))},[E,b(l,{src:s.songInfo.album.picUrl},{default:M((()=>[K])),_:1},8,["src"])],2),a.coverDesc?(y(),I("div",X,[V,b("p",null,z(a.coverDesc),1)])):h("",!0),b("div",R,[Q,b("div",Y,[(y(!0),I(k,null,P(s.simiSong,(s=>(y(),I("div",{class:"simi-item",key:s.id},[b("div",N,[b(t,{class:"simi-name",to:{path:"/song",query:{id:s.id}}},{default:M((()=>[L(z(s.name),1)])),_:2},1032,["to"]),b("div",Z,[(y(!0),I(k,null,P(s.singer,((s,e)=>(y(),I(t,{to:{path:"/singer",query:{id:s.id}},class:"song-author",key:s.name},{default:M((()=>[L(z(0!==e?" / "+s.name:s.name),1)])),_:2},1032,["to"])))),128))])]),b("div",G,[s.vip?(y(),I("i",J)):(y(),I("i",{key:1,onClick:e=>a.plyaing(s),class:["iconfont",a.playSimiIcon(s)]},null,10,["onClick"]))])])))),128))])])])])]),b("div",W,[b("h3",_,[L(z(s.songInfo.name)+" ",1),s.songInfo.mvId?(y(),I(t,{key:0,class:"mv-name",to:{path:"/mv",query:{id:s.songInfo.mvId}}},{default:M((()=>[$])),_:1},8,["to"])):h("",!0),s.songInfo.vip?(y(),I("i",ss)):h("",!0),a.isCurSong?(y(),I("div",es,[ns])):h("",!0)]),b("p",null,[(y(!0),I(k,null,P(s.songInfo.singer,((s,e)=>(y(),I(t,{to:{path:"/singer",query:{id:s.id}},class:"song-author",key:s.name},{default:M((()=>[L(z(0!==e?" / "+s.name:s.name),1)])),_:2},1032,["to"])))),128))]),b("p",as,[b("span",null,[is,b(t,{class:"song-album",to:{path:"/album",query:{id:s.songInfo.album.id}}},{default:M((()=>[L(z(s.songInfo.album.name),1)])),_:1},8,["to"])]),b("span",null,[os,b("em",null,z(s.songInfo.publishTime),1)])]),b("div",ls,[b("span",{class:["play-btn","play-all",a.songDisable],onClick:e[2]||(e[2]=e=>a.plyaing(s.songInfo))},[b("i",{class:["iconfont",a.playFontIcon]},null,2),L(" "+z(s.songInfo.vip?"VIP尊享":"立即播放"),1)],2),a.isLogin?(y(),I(c,{key:1,placement:"bottom",trigger:"click",ref:"popAddList"},{default:M((()=>[rs])),_:1},512)):(y(),I("span",{key:0,class:"play-btn play-collect",onClick:e[3]||(e[3]=(...e)=>s.showAddList&&s.showAddList(...e))},[ts,cs])),b("span",{class:"play-btn play-comment",onClick:e[4]||(e[4]=(...s)=>a.jumpComment&&a.jumpComment(...s))},[ds,As])]),b("div",us,[b(r,{sId:s.sId,local:"page"},null,8,["sId"])]),b("div",ms,[b(d,{type:s.type,sId:s.sId},null,8,["type","sId"])],512)])])])):h("",!0)}));D.render=vs,D.__scopeId="data-v-00abbe11";export default D;
